(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(6),o=n.n(s),i=(n(13),n(3)),l=n.n(i),u=n(4),j=n(2),h=n(7),d=function(e){var t=e.value,n=e.onClick,r=e.index,a=e.active,s=e.setHover;return Object(c.jsx)("div",{className:"result-list ".concat(a?"selected":""),onClick:function(){return n(t.id)},onMouseEnter:function(){return s(r)},onMouseLeave:function(){return s(void 0)},children:Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:t.propinsi.match("DKI")?t.propinsi.replace("DKI","DKI "):t.propinsi.match("DI")?t.propinsi.replace("DI","DI "):t.propinsi.split(/(?=[A-Z])/).join(" ")}),", ",t.kota]})})},f=function(e){var t=e.locations,n=e.onLocationChange,a=Object(r.useState)(""),s=Object(j.a)(a,2),o=s[0],i=s[1],l=Object(r.useState)([]),u=Object(j.a)(l,2),f=u[0],b=u[1],p=Object(r.useState)(0),O=Object(j.a)(p,2),x=O[0],m=O[1],v=Object(r.useRef)(null),g=Object(r.useState)(void 0),k=Object(j.a)(g,2),w=k[0],C=k[1];Object(r.useEffect)((function(){v.current.focus()}),[]);var y=function(e){var c=t.filter((function(t){return t.id.includes(e)}));b([]),i(c[0].kota),n(e),m(0)};return Object(c.jsxs)("div",{className:"search ".concat(f.length>0||1===x?"straight":""),children:[Object(c.jsxs)("div",{className:"search-bar",children:[o.length>0&&Object(c.jsx)("div",{className:"pre-btn",children:Object(c.jsx)(h.a,{})}),Object(c.jsx)("input",{type:"text",value:o,placeholder:"Pencarian...",className:"input-text ".concat(0===o.length?"padding":""," "),onChange:function(e){return function(e){if(i(e),e.length>0&&t.length>0){var n=t.filter((function(t){return t.kota.toLowerCase().includes(e.toLowerCase())}));0===n.length?(m(1),b([])):(m(0),b(n))}else b([])}(e.target.value)},ref:v,onFocus:function(e){return e.target.select()},onKeyDown:function(e){return function(e){if(f.length>0){var t=document.querySelector(".result-list.selected"),c=document.querySelector(".result-popup");if(40===e.keyCode)void 0===w||f.length-1===w||1===f.length?(C(0),c.scrollTo(0,0)):C(w+1),null!==t&&(t.offsetTop===c.lastElementChild.offsetTop?c.scrollTo(0,0):c.scrollTo(0,t.offsetTop));else if(38===e.keyCode)C(void 0===w||0===w?f.length-1:w-1),null!==t&&(t.offsetTop===c.firstElementChild.offsetTop?c.scrollTo(0,c.lastElementChild.offsetTop):c.scrollTo(0,t.offsetTop-t.offsetHeight));else if(13===e.keyCode){var r=f.filter((function(e,t){return t===w&&e}));b([]),i(r[0].kota),n(r[0].id),document.querySelector(".input-text").blur(),C(void 0),m(0)}}}(e)}})]}),Object(c.jsx)("div",{className:"result-popup ".concat((f.length>0||1===x)&&"show"),children:f.length>0?f.map((function(e,t){return Object(c.jsx)(d,{value:e,onClick:y,index:t,active:t===w,setHover:C},e.id)})):Object(c.jsx)("div",{className:"result-list",children:"Lokasi tidak ditemukan"})})]})},b=function(e){var t=e.weather;return Object(c.jsx)(c.Fragment,{children:t.map((function(e,t){return Object(c.jsxs)("div",{className:"weather-card",children:[Object(c.jsx)("p",{style:{fontSize:11,opacity:.7},children:e.jamCuaca.substring(0,10)}),Object(c.jsx)("p",{children:e.jamCuaca.substring(10,16)}),Object(c.jsx)("div",{className:"weather-icon ".concat(e.cuaca.toLowerCase().replace(" ","-"))}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:e.cuaca}),Object(c.jsx)("br",{}),e.tempC,"\xb0C ",e.humidity,"%"]})]},t)}))})};var p=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),o=Object(j.a)(s,2),i=o[0],h=o[1],d="https://ibnux.github.io/BMKG-importer/cuaca/";Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/wilayah.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,h([]),h(c),null!==document.querySelector(".horizontal-scroller")&&document.querySelector(".horizontal-scroller").scrollTo(0,0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"background-banner"}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{locations:n.length>0&&n,onLocationChange:O}),Object(c.jsx)("center",{className:"main-content",children:i.length>0?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Prakiraan Cuaca Tiap Jam"}),Object(c.jsx)("div",{className:"horizontal-scroller",children:Object(c.jsx)(b,{weather:i})})]}):Object(c.jsx)("h3",{children:"Halo! Untuk memulai, silakan masukkan lokasi Anda."})})]}),Object(c.jsx)("footer",{className:"footer",children:Object(c.jsxs)("p",{children:["Gambar oleh ",Object(c.jsx)("a",{href:"https://www.unsplash.com/",target:"_blank",rel:"noreferrer",children:"Unsplash"})," | API oleh ",Object(c.jsx)("a",{href:"https://github.com/ibnux",target:"_blank",rel:"noreferrer",children:"ibnux"})," | Data oleh ",Object(c.jsx)("a",{href:"https://data.bmkg.go.id/",target:"_blank",rel:"noreferrer",children:"Badan Meteorologi, Klimatologi, dan Geofisika (BMKG)"})]})})]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),O()}},[[15,1,2]]]);
//# sourceMappingURL=main.ad177beb.chunk.js.map